<div class="container">
  <h3 class="title-text">{{ this.cache.currentMetadata().result_title }}</h3>

  <br />
  <div class="card-container">
    <div class="content-section">
      <div class="card-content first-column">
        <div class="card-title">GENERAL INFORMATION</div>
        <div class="form-container">
          <div class="flex flex-column">
            <!-- <input appSaveOnWriting pInputText id="username" aria-describedby="username-help" [(ngModel)]="body().title" /> -->
            <app-input
              label="Title*"
              [validateEmpty]="true"
              description="Provide a clear and descriptive name for the result, avoiding acronyms or technical jargon."
              [signal]="this.body"
              optionValue="title"></app-input>
            <!-- <small class="card-description" id="username-help">Max. # words</small> -->
          </div>

          <div class="card flex flex-column">
            <!-- <textarea appSaveOnWriting rows="5" pInputTextarea [autoResize]="true" [(ngModel)]="body().description"> </textarea> -->
            <app-textarea
              label="Description"
              description="Offer a detailed, understandable explanation, without repeating the title."
              [signal]="this.body"
              [optionValue]="'description'"></app-textarea>
            <!-- <small class="card-description" id="username-help">Max. # words</small> -->
          </div>

          <div class="flex flex-column">
            <h1 class="title">Keywords</h1>
            <small class="description" for="username" style="margin-bottom: 7px">
              Press <strong>"Enter"</strong> to generate the keyword before saving it. Use relevant terms that describe the content of your result.
            </small>

            <div class="card p-fluid">
              <p-chips [(ngModel)]="body().keywords" (ngModelChange)="this.actions.saveCurrentSection()" />
            </div>
          </div>

          <div class="card flex flex-column gap-1">
            <app-select
              label="Main contact person*"
              [signal]="this.body"
              [optionValue]="{ body: 'user_id', option: 'user_id' }"
              optionLabel="full_name"
              serviceName="userStaff"></app-select>
          </div>
        </div>
      </div>
      <div class="actions">
        <p-button
          [disabled]="!this.body().title"
          [loading]="this.loading()"
          label="Next"
          icon="pi pi-arrow-right"
          iconPos="right"
          (click)="saveData('next')" />
        <p-button
          [disabled]="!this.body().title"
          [loading]="this.loading()"
          label="Save"
          severity="success"
          icon="pi pi-save"
          iconPos="left"
          (click)="saveData()" />
      </div>
    </div>
  </div>
</div>
